<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1" name="viewport">
        <title>Lung and COVID-19 lesion segmentation tool</title>
        <link href="data:," rel="icon">
        <link href="style.css" rel="stylesheet">
        <script defer src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
        <script defer src="script.js"></script>
    </head>

    <body>
        <dialog id="loading-dialog">Loading...</dialog>
        <nav>
            <a href="https://github.com/pbizopoulos/comprehensive-comparison-of-deep-learning-models-for-lung-and-covid-19-lesion-segmentation-in-ct">Source code</a>|<a href="https://pbizopoulos.github.io">Home page</a>/<b>Lung and COVID-19 lesion segmentation tool</b>
            <button type="button" id="help-button" class="element-right">Help</button>
        </nav>
        <div class="container">
            <div class="column">
                <div>
                    <input accept="image/*" id="input-file" type="file">
                </div>
                <div>
                    <select id="model-select" onchange="loadModel(predictView);">
                        <option value="prm/model-lesion-segmentation-a-FPN-mobilenet_v2-imagenet.onnx">lesion-segmentation-a-FPN-mobilenet_v2-imagenet</option>
                        <option value="prm/model-lung-segmentation-FPN-mobilenet_v2-imagenet.onnx">lung-segmentation-FPN-mobilenet_v2-imagenet</option>
                    </select>
                </div>
            </div>
            <div class="column">
                <canvas height="256" id="image-input-canvas" width="256"></canvas>
                <canvas height="256" id="mask-output-canvas" width="256"></canvas>
            </div>
        </div>
        <dialog id="help-dialog" onmousedown="event.target==this && this.close()">
            <div>Not intended for clinical use.</div>
            <div>Usage:</div>
            <ol>
                <li>Upload a lung CT image (.jpg,.png,.gif) from the left.</li>
                <li>Choose the model (lung or COVID) from the dropdown on the left.</li>
                <li>The results are shown on the right.</li>
            </ol>
            <div>Click outside this dialog to go back.</div>
        </dialog>
    </body>

</html>
